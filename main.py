#-----------MARKET PREDICTION ALGORITHM-----------
#ADDITIONAL: INSTALL LIBRARIES ON LOCAL MACHINE (OR FROM TERMINAL TO REPO DIRECTLY? LOOK INTO THIS)

#___________USE OF ALPHA VANTAGE API TO PULL LIVE STOCK VALUATION FIGURES, TRAIN MODEL OFF OF THESE VALUATIONS (RANDOM FOREST MODEL)________


#LIBRARIES REQD'
import requests #PULLS STOCK MARKET DATA
import pandas as pd #ENHANCED DATA MANIPULATION LAYER
import time #PAUSE/TIMIING PROTOCOL: NECESSARY FOR LIVE VALUATIONS

#ADDITIONAL (IF NEEDED)
import cron #COULD USE 'SCHEDULE': FOR AUTOMATING DAILY PIPELINE EXECUTION
import numpy as np #ENHANCED NUMERICAL HANDLING
import matplotlib.pyplot as plt #GRAPH STATS
import sklearn #ML MODEL TRAINING EVALUATING ACCURACY; *RANDOM FOREST TRAINING MODEL* IS TO BE UTILIZED HERE
import seaborn as sns #DATA VISUALIZATION
import joblib #SAVE/LOAD MODEL, GIVE USER CAPABILITY TO RUN ACROSS VARIOUS SESSIONS USING PRESET METRICS
 


#-----------GENERAL PSEUDOCODE/HIERARCHICAL LAYOUT-----------


#CRITERIA/FUNCTIONAL COMPONENTS
#1. DATA INGESTION
#-DOWNLOAD DAILY/LIVE STOCK VALUATION FIGURES. TO BE ACCOMLISHED VIA. USE OF DAILY OHLCV FROM ALPHA VANTAGE

#--SCHEDULE DAILY JOB (VIA CRON LIBRARY)
#--FETCHING OF LATEST SPY DATA (VIA ALPHA VANTAGE API):
#---THIS IS TO FETCH CURRENT MARKET VALUATION VARIABLES, DAILY ADJUSTED OHLCV VALUATIONS 
#----VIA USE OF ***TIME_SERIES_DAILY_ADJUSTED*** ENDPOINT, RETURNING OHLCV VALUATIONS FROM AV API


#2. FEATURE ENGINEERING
#-STUCTURES ACTUAL SET FUNCTIONALITY OF ALGORITHMS TECHNICAL FEATURES
#--RSI, MACID, MOVING AVERAGES, VOLATILITY, RETURNS (OR OTHER RELEVANT INDICATORS)
#---ONLY MOST RECENT ROW NEEDS COMPUTATION: REDUCES REDUNCANCY + MITIGATES POTENTIAL MODEL OVERFITTING
#---***RECALCULATION OF FEATURE COLUMNS + FEATURE CONSISTENCY *CRITICAL* FOR VALID MODEL OUTPUT, AS IS TO BE SOLE BASIS OF OUR BELOW RENDITIONS!****


#3. "CRASH LABELING" LOGIC
#-ML LIBRARY IMPORTATIONS, AS WELL INVOILVES BINARY CLASSIFICATION OF BASIS OF (PREDICTED) FUTURE RETURNS
#--(0==NORMAL, 1==CRASH) + CONFIDENCE PROBABLITY VALUATION


#4. ML MODEL ARCHETECHURE (BASED ON RANDOM FOREST MODEL)
#-RECURSIVE SELF TRAINING OF ML MODEL
#-- WILL UTILIZE "RANDOM FOREST" STYLED ML MODEL, BASED OFF OF THESE EXTRACTED VALUATIONS/EVERCHANGING DATASET VALUATIONS
#---RANDOM FOREST MODEL: USED FOR INTERPRETABILITLY/ROBUSTNESS OF OVERALL ML ALGORITHM AND ARCHITECHTURE


#5. LIVE PREDICTION PIPELINE
#5.1: 
#-WILL INCLUDE ACCOMPANYING CUMULATIVE CONFIDENCE SCORES, AS DISTILLED FROM ABOVE PROCESSES
#--MAITENCNCE OF A LIVE CONSISTENT LOG IMPORTANT HERE, AS EVEN IF NO CRASH IS PREDICTED IS STILL CRITICAL COMPONTNET OF GENERATIING A CUMULATIVE DAILY CONFIDENCE TREND VISUALIZATION

#5.2: (OPTIONAL, FOR ACCURACY SAKE)
# RETRAIN ML MODEL MONTHLY WITH UPDATED DATASET VALUATIONS 
# --THIS IN THEORY WILL HELP FOR OUR ML MODEL TO ADAPT TO EVER CHANGING MARKET BEHAVIOUR + MAINTAIN A LAYER OF PREDICTION ACCURACY
 